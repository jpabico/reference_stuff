<!DOCTYPE html>
<html>
<head>
    <title>Heroku Deployment</title>
</head>
<body>
    <p> Here are my trial-and-error steps for deploying a Rails app to Heroku.  Mistakes are shown for educational purposes.  All commands are entered into CLI unless otherwise noted. It is assumed that a repo has already been initialized.</p>
        <ol>
            <li>heroku create app_name</li>
            <li>git push heroku master (did not work because gems were missing)</li>
            <li>gem 'pg' (in Gemfile)</li>
            <li>gem 'rails_12factor', group: :production (in Gemfile)</li>
            <li>bundle install</li>
            <li>git add</li>
            <li>git commit -m "preparing for deployment to heroku"</li>
            <li>git push origin master</li>
            <li>git push heroku master (this did not work for me the first time; error message pertaining to non-cedar stack)</li>
            <li>rm -rf .git</li>
            <li>git init</li>
            <li>git add .</li>
            <li>git commit -m "reinitialize"</li>
            <li>git push origin Jonz (the name of my repo branch)</li>
            <li>heroku create app_name --stack cedar</li>
            <li>git push heroku master</li>
            <li>heroku run rake db:migrate</li>
        </ol>
    <p> In most cases, only the following steps need to be taken.</p>
        <ol>
            <li>make sure 'pg' and 'rails_12factor',  group: :production are in the Gemfile</li>
            <li>bundle install</li>
            <li>update local repo (git add/commit)</li>
            <li>heroku create app_name</li>
            <li>git push heroku master (or git push heroku Jonz:master for branch)</li>
            <li>heroku run rake db:migrate</li>
            <li>heroku run rake db:seed if needed</li>
        </ol>
    <p> For Sinatra apps, the following steps are taken:</p>
        <ol>
            <li>heroku create app_name</li>
            <li>git push heroku master</li>
            <li>change config/database.rb "color" (look in actual Heroku app settings)</li>
            <li>update local repo (git add/commit)</li>
            <li>git push heroku master</li>
            <li>heroku run rake db:migrate</li>
            <li>heroku run rake db:seed if needed</li>
        </ol>
</body>
</html>