<!-- completed, not refactored -->
<!DOCTYPE html>
<html>
<head>
    <title>Hangman</title>

    <!-- css -->
    <style type="text/css">
        #messageDiv {
            border: 1px solid blue;
            height: 30px;
        }

        #deathDiv {
            border: 1px solid red;
            height: 30px;
        }
    </style>

</head>
<body>
    <input type="text" id='inputText'>
    <button type='submit' id='guessButton'>Lock in your guess!</button>
    <div id='messageDiv'></div>
    <div id='deathDiv'></div>
    <!-- javascript -->
    <script type="text/javascript">
    playGame();
    function playGame() {
        var wordsArray = ["apple", "bacon", "carrot", "donut", "egg", "fish"];
        var wordsArrayLength = wordsArray.length;
        var randomizer = Math.floor(wordsArrayLength*Math.random());
        var randomWord = wordsArray[randomizer];
        var wordLength = randomWord.length
        var wordDisplayDash = "";
        var numWrong = 0;
        var numDash = wordLength;
        var deathPic = "";
        var wrongGuess = true;
        var numCorrect = 0;
        var lettersGuessedArray = [];

        console.log(randomWord);

        for(var i = 0; i<wordLength; i++) {
            wordDisplayDash += '-';
        }

        var currentDisplay = wordDisplayDash.split('');
        document.getElementById('messageDiv').innerHTML = wordDisplayDash;

        document.getElementById('guessButton').onclick = function() {

            var currentGuess = document.getElementById('inputText').value;
            // console.log(currentGuess.length);

            if(currentGuess.length != 1) {
                console.log("you must type exactly ONE letter for a guess!");
            } else {
                var lettersArray = randomWord.split('');
                var lettersArrayLength = lettersArray.length;

                for(var j=0; j < lettersArrayLength; j++) {
                    if(lettersArray[j]===currentGuess) {
                        a = currentDisplay.splice(j, 1, currentGuess);
                        numCorrect +=1;
                        wrongGuess = false;
                    }
                    document.getElementById('inputText').value='';
                }

                lettersGuessedArray.push(currentGuess);
            }

            if(wrongGuess) {
                numWrong +=1;
                deathPic += "X";
            }

            document.getElementById('deathDiv').innerHTML = deathPic;
            if(numCorrect==randomWord.length){
                document.getElementById('messageDiv').innerHTML = currentDisplay.join('') + " -----Congratulations! You guessed the word!-----";
                var playAgain = prompt('Play again? ("y" or "n")');
                if (playAgain == "y") {
                    document.getElementById('deathDiv').innerHTML = "";
                    playGame();
                } else if (playAgain == "n") {
                    endGame();
                } else {
                    endGame();
                }

            } else {
                document.getElementById('messageDiv').innerHTML= currentDisplay.join('');
            }
            if (numWrong==9) {
                document.getElementById('messageDiv').innerHTML = currentDisplay.join('') + " -----Sorry, you are out of guesses.  You have died!-----";
                var playAgain = prompt('Play again? ("y" or "n")');
                if (playAgain == "y") {
                    document.getElementById('deathDiv').innerHTML = "";
                    playGame();
                } else if (playAgain == "n") {
                    endGame();
                } else {
                    endGame();
                }
            }

            wrongGuess = true;
        }
    }

    function endGame() {
        document.getElementById('messageDiv').innerHTML = "Thanks for playing!"
        document.getElementById('deathDiv').innerHTML = "";
        document.getElementById('guessButton').onclick = function() {
                document.getElementById('deathDiv').innerHTML = "---refresh page to play again---";
        }
    }


    </script>
</body>
</html>